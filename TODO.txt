Потраченное время: 45 часа (18:00) 1 сентября -
----------------------------------------------------------------------------------------------------------
Сайт http://super-kadr32.ru/

- Composer
- PHP 5.5
- memory_limit не меньше 256 (Загрузка файла через Croppic если увеличивать фото то ошибка вылетает)

Тестовый пользователь:
Test@mail.ru
test


+ Административная панель
+ Посредник authAdmin - пропускает только пользователей с level = admin
+ Добавление администраторов и обычных пользователей
+ Независимые URL админке- то есть можно быстро изменить путь к админке 
---------------------------------------------------------------------------------------------------
+ Авторизация для Админа
+ Авторизация через соц сети: twitter, facebook, vk, od
+ Доступ к административной панели только для админов
+ Подключил верстку
---------------------------------------------------------------------------------------------------
+ Загрузка фото
+ Выбор тарифа (тарифы из базы данных)
+ Выбор экрана, пр выборе меняется размер мониора (У экранов есть свои настройки - размеры загружаемых картинок)
+ Выбор даты и времени показа
+ При загрузке картинки стоит проверка, что если высота или ширина изображения больше 10000px то вылетает ошибка (В целях безопасности)
+ Загрузить картинку может только авторизованный пользователь
+ Сохранение в базе данных галереи и заказа
+ Статусы для заказов и галереи
+ Вывод на главной галереи
+ Вывод детальной страницы галереи
---------------------------------------------------------------------------------------------------
+ Лайки
+ Вывод на главной 15 поплулярных галерей по кол-ву лайков за последний месяц, если не хватает 15, то добираются за весь период популярные
+ Вывод галереи в разделе галерея
+ Постраничная навигация
+ Комментарии
+ Изменить пароль админинстратора




Доделать в админке при создании или изменении пользователя проверка на уникальность email
Если нет имени в соц сети то брать емаил, но без @yandex


Верстка: Нужен Favicon
Уточнить какие должны быть параметры картинки для двух мониторов 
Не понятно Экран 1 280*180, Экран 2 240*192
Если при загрузке картинки, сделать много раз увеличение то вылетает ошибка Allowed memory size of (ее нужно обрабатывать)


Актвный пукт меню при переходе по разделам сейчас всегда на главной
Если напрямую вставить html код в комментарии то он сохраняется, нужно обрезать тэги
При добавлении комментария нужно обновлять счетчик комментариев

При авторизации кидает на главную
При разлогировании кидает на главную



Для тест соц сетей
TWITTER_ID = t3O4iFG6Dr9EIl54Rld5POdHp
TWITTER_SECRET = WNKnYcJMGmq5tB0Kqtj5YO4w3a6tfyjWAUo4pMZd7sUi1AXQUA
TWITTER_REDIRECT = http://super-kadr32.local/login/callback/twitter

FACEBOOK_ID = 171355216531108
FACEBOOK_SECRET = a4e393ea8c19de1cbcba85a4b764b06d
FACEBOOK_REDIRECT = http://super-kadr32.local/login/callback/facebook

VKONTAKTE_ID = 5057233
VKONTAKTE_SECRET = AzAIrYvYkOPfLhWBoU8A
VKONTAKTE_REDIRECT = http://super-kadr32.local/login/callback/vkontakte

ODNIKLASSNIKI_ID = 1111
ODNIKLASSNIKI_SECRET = 1111
ODNIKLASSNIKI_REDIRECT = http://super-kadr32.local/login/callback/odnoklassniki


Статусы:
statys_pay
- Оплачено
- Ожидание оплаты
- Ошибка
- Отклонено пользователем
- Отклонено администратором

status_main
- Одобрено
- На модерации
- Отклонено

status_order
- Выполнена
- В исполнении
- В очереди на исполнение

----------------------------------------------------------------------------------------------------------


ТЗ:
+ При выборе экрана менять экран, один из них квадратный
- вместо поиска соц сети
+ Авторизация через соц. сети: Вконтакте, facebook, twitter, одноклассники.
- лайки
- Комментарии
- Кнопки поделиться в соц. Сетях
+ страницы: Главная, Галерея, Детальная страница галереи
+ форма загрузки изображения – плагин croppic
+ Выбор тарифа и оплата
- Подключение робокассы
- Админ панель: Настройки, Транзакции, Заказы, Плейлисты
- CMS Настройки:
	- Название сайта
	- возможность его выключить
	- настройки для соц. Сетей(если не используем стороннего сервиса)
	- настройки робокассы – логин, пароль и т.д.
- CMS Транзакции (все платежы):
	- ID – номер транзации в базе.
	- Операция – описание транзации. Достаточно просто того, что можно увидеть, к какому заказу она относится по ID заказа в базе.
	- Сумма – ну тут все понятно.
	- Дата – время, когда была произведена операция
	- Состояние: Оплачено, Ожидание оплаты, Ошибка или отклонено пользователем.
- CMS Заказы (попадают только после оплаты):
	- Есть все заказы а есть одобренные
	- Модератор может одобрить или отвергнуть заявку.
	- Так же присутствует массовая модерация – выделить несколько элементов галочками и нажать на кнопку сверху.
	- После модерации заявки, она отправляется в раздел одобренных – вторая вкладка.
	- Модератор может удалить от сюда заказы по одному, а так же через массовую модерацию.
- CMS Плейлисты:	
	- Плейлистов два – по количеству экранов(Отличаются только тем, что генерироваться будут из разных начальных плейлистов и с разным разрешением картинок.)
	- три таблицы:
		- 1:
			- Исходные данные  приходит файл на фтп заносим данный в БД и выводим
		- Вторая таблица – заказы в очереди на генерацию нового файла плейлиста:
			- Должны удовлетворять условиям:
				- Заказ одобрен модератором.
				- Количество оставшихся показов не равно 0 – каждое внесение в плейлист уменьшает это значение.
				- Промежуток времени между временем начала показа(пользователь выбрал при заказе) и окончанием показа(высчитывается по тарифу) соответствует времени, для которого генерируется наш плейлист.
				- Ну и конечно выбирать заказы только для нужного экрана(тоже выбирает пользователь).
		- Сгенерированный плейлист можно сразу увидеть в третьей таблице.
			- Генерация плейлистов определяется продолжительность предыдущего сгенерированного. 
			- не должно быть подряд больше одного показа одного заказа
			- учитывать количество и частоту показов по тарифу 